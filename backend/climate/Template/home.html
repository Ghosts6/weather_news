{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'fav/favicon-32x32.png'%}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'fav/favicon-16x16.png'%}">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">   
    <title>Home Page</title>
</head>
<body>
    <div id="particles-js"></div>

    <header class="w-full h-14 flex items-center justify-between px-4 transition-all ease-in-out relative">
        <a href="https://kiarashbashokian.com" target="_blank" aria-label="Visit Kiarash Bashokian's Website" 
        class="logo-link p-2 transition-transform transform hover:scale-[1.2] sm:p-3 md:p-4">
            <img src="{% static 'img/logo.png' %}" alt="Logo of Kiarash Bashokian" 
                class="logo w-[50px] h-auto pointer-events-none sm:w-[60px] md:w-[70px]">
        </a>

        <a href="https://github.com/Ghosts6" target="_blank" id="github-link" aria-label="Visit GitHub Profile" 
        class="absolute left-1/2 transform -translate-x-1/2 text-[#ffffff] transition-transform transform hover:scale-[1.2] sm:text-[36px] md:text-[40px]">
            <i class="fa-brands fa-github text-[42px]"></i>
        </a>

        <button id="dark-mode-toggle" 
                class="bg-transparent border-none cursor-pointer focus:outline-none sm:text-[36px] md:text-[40px] transition-transform transform hover:scale-[1.2]" 
                onclick="toggleDarkMode()" aria-label="Toggle Dark Mode">
            <i id="dark-mode-icon" class="fas fa-moon text-[#ffffff]"></i>
        </button>
    </header>

    <main class="home-main">
        <section>
            <h1 class="title">Weather News</h1>
            {% for weather_news in weather_news_list %}
                <p class="news-description">{{ weather_news }}</p>
            {% endfor %}
            <img src="{% static 'img/weather.avif' %}" alt="world-weather">
        </section>
        <section>
            <h2 class="title">Search cities</h2>
            <p class="news-description">Enter the name of your city in the search bar to find out the latest weather updates.</p>
            <button id="searchButton" class="button-search">
                <span class="leSnake">
                    <span class="inline-block animate-leSnake delay-0">S</span>
                    <span class="inline-block animate-leSnake delay-100">e</span>
                    <span class="inline-block animate-leSnake delay-200">a</span>
                    <span class="inline-block animate-leSnake delay-300">r</span>
                    <span class="inline-block animate-leSnake delay-400">c</span>
                    <span class="inline-block animate-leSnake delay-500">h</span>
                    <span class="inline-block animate-leSnake delay-600">&nbsp;</span>
                    <span class="inline-block animate-leSnake delay-700">C</span>
                    <span class="inline-block animate-leSnake delay-800">i</span>
                    <span class="inline-block animate-leSnake delay-900">t</span>
                    <span class="inline-block animate-leSnake delay-1000">y</span>
                </span>
            </button>
            <img src="{% static 'img/search.png' %}" alt="search-image">
        </section>
        <section>
            <h2 class="title">most viewed location</h2>
            <p class="news-description">{{ paris_weather_summary }}</p>
            <img src="{% static 'img/mostviewd.png' %}" alt="paris" >
        </section>
        <section>
            <h2 class="title">current location</h2>
            <p class="news-description">{{ user_location_summary }}</p>
            <img src="{% static 'img/local.webp' %}" alt="current-location" >
        </section>
        <section>
            <h3 class="title">Tornado News</h3>
            <ul class="news-list">
                {% for news in tornado_news %}
                <li class="news-item">
                    <p class="news-title">{{ news.title }}</p>
                    <p class="news-description">{{ news.description }}</p>
                    <a class="section-link" href="{{ news.url }}" target="_blank">Read more</a>
                </li>
                {% endfor %}
            </ul>
            <img src="{% static 'img/tornado.jpg' %}" alt="tornado">
            </section>
        <section>
            <h3 class="title">Storm News</h3>
            <ul class="news-list">
                {% for news in storm_news %}
                <li class="news-item">
                    <p class="news-title">{{ news.title }}</p>
                    <p class="news-description">{{ news.description }}</p>
                    <a class="section-link" href="{{ news.url }}" target="_blank">Read more</a>
                </li>
                {% endfor %}
            </ul>
            <img src="{% static 'img/storm.jpg' %}" alt="storm">
            </section>
        <section>
            <h3 class="title">Flood News</h3>
            <ul class="news-list">
                {% for news in flood_news %}
                <li class="news-item">
                    <p class="news-title">{{ news.title }}</p>
                    <p class="news-description">{{ news.description }}</p>
                    <a class="section-link" href="{{ news.url }}" target="_blank">Read more</a>
                </li>
                {% endfor %}
            </ul>
            <img src="{% static 'img/flood.jpg' %}" alt="flood">
        </section>
    </main>

    <button id="scrollToTopButton"
            class="fixed bottom-[40px] right-[20px] bg-gradient-to-tr from-[#9cd1d1] to-[#7fb3d5] text-[#ffffff] shadow-lg rounded-[12px] p-[12px] cursor-pointer hidden z-[999] 
                hover:from-[#00ffff] hover:to-[#008080] hover:shadow-xl active:scale-90 active:bg-[#00ced1] transition-all 
                dark:bg-gradient-to-tr dark:from-[#0B5563] dark:to-[#065050] dark:hover:from-[#008080] dark:hover:to-[#0be9f0] dark:active:bg-[#007070]
                sm:right-[5px] sm:bottom-[10px] md:right-[10px] md:bottom-[20px]"
            onclick="scrollToTop()">
        <img src="{% static 'img/upArrow.svg' %}" alt="Scroll to top" 
            class="w-[24px] h-[24px] mx-auto animate-bounce-up hover:animate-none transition-transform active:translate-y-[2px]" />
    </button>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script> 
    <script> var redirect = "{% url 'weather' %}" </script>
    <script src="{% static 'js/home.js' %}"></script>
    <script src="{% static 'js/template.js' %}"></script>    
</body>
</html>